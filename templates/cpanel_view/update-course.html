{% extends 'cpanel.html' %}
{% block css %}
<style>

</style>
{% endblock %}

{% block content %}
{% load poll_extras %}

{% for msg in messages %}
{{msg}}
{% endfor %}

<h1>Update Course</h1>
<div class="basic-form">
<form action="" method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="form-group">
      <label>Select category</label>
      <input type="text" value="{{course.category}}" name="category" class="form-control" placeholder="Category" readonly />       
      {% if form.is_valid == False%}
      {% if form.category.errors %}
      <span class="helper-text">{{ form.category.errors }}</span>
      {% endif %}
      {% endif %}
    </div>

    <div class="form-group">
        <input type="text"  value="{{course.title}}"name="title" class="form-control" placeholder="Title" readonly />
        {% if form.is_valid == False%}
            {% if form.title.errors %}
            <span class="helper-text">{{ form.title.errors }}</span>
            {% endif %}
        {% endif %}
    </div>
    <div class="form-group">
        <input type="text" class="form-control" placeholder="Slug" value="{{course.slug}}" name="slug"  id="/" readonly>
        {% if form.is_valid == False%}
        {% if form.slug.errors %}
        <span class="helper-text">{{ form.slug.errors }}</span>
        {% endif %}
        {% endif %}
    </div>
    <div class="form-group">
        <input type="file" name="course_picture" class="form-control" placeholder="course_picture" />
        {% if form.is_valid == False%}
            {% if form.course_picture.errors %}
                <span class="helper-text">{{ form.course_picture.errors }}</span>
            {% endif %}
        {% endif %}
    </div>
    <div class="form-group">
        <input type="text" name="h1_name" value="{{course.h1_name}}" class="form-control" placeholder="h1_name" />
        {% if form.is_valid == False%}
        {% if form.h1_name.errors %}
            <span class="helper-text">{{ form.h1_name.errors }}</span>
        {% endif %}
        {% endif %}
    </div>
    <div class="form-group">
      <input type="text" name="fee" class="form-control" value="{{course.fee}}" placeholder="Fee" id="" />
      {% if form.is_valid == False%}
      {% if form.fee.errors %}
      <span class="helper-text">{{ form.h1_name.errors }}</span>
      {% endif %}
      {% endif %}
    </div>
    <div class="form-group">
        <textarea name="description" class="form-control summernote" placeholder="description" cols="30" rows="10">{{course.description}}</textarea>
        {% if form.is_valid == False%}
        {% if form.description.errors %}
        <span class="helper-text">{{ form.description.errors }}</span>
        {% endif %}
        {% endif %}
    </div>
    <div class="form-group">
        <textarea name="key_features" class="form-control summernote" placeholder="key_features" cols="30" rows="10">{{course.key_features}}</textarea>
        {% if form.is_valid == False%}
        {% if form.key_features.errors %}
        <span class="helper-text">{{ form.key_features.errors }}</span>
        {% endif %}
        {% endif %}
    </div>
    <div class="form-group">
        <textarea name="what_you_learn" class="form-control summernote" placeholder="what_you_learn" cols="30" rows="10">{{course.what_you_learn}}</textarea>
        {% if form.is_valid == False%}
        {% if form.what_you_learn.errors %}
        <span class="helper-text">{{ form.what_you_learn.errors }}</span>
        {% endif %}
        {% endif %}
    </div>
    <div class="form-group">
        <textarea name="course_syllabus" class="form-control summernote" placeholder="course_syllabus" cols="30" rows="10">{{course.course_syllabus}}</textarea>
        {% if form.is_valid == False%}
        {% if form.course_syllabus.errors %}
        <span class="helper-text">{{ form.course_syllabus.errors }}</span>
        {% endif %}
        {% endif %}
    </div>
    <div class="form-group">
        <textarea name="meta_title" class="form-control" placeholder="meta_title" cols="30" rows="10">{{course.meta_title}}</textarea>
        {% if form.is_valid == False%}
        {% if form.meta_title.errors %}
        <span class="helper-text">{{ form.meta_title.errors }}</span>
        {% endif %}
        {% endif %}
    </div>
    <div class="form-group">
        <textarea name="meta_description" class="form-control" placeholder="meta_description" cols="30" rows="10">{{course.meta_description}}</textarea>
        {% if form.is_valid == False%}
        {% if form.meta_description.errors %}
        <span class="helper-text">{{ form.meta_description.errors }}</span>
        {% endif %}
        {% endif %}
    </div>
    <div class="form-group">
        <textarea name="meta_keywords" class="form-control" placeholder="meta_keywords" cols="30" rows="10">{{course.meta_keywords}}</textarea>
        {% if form.is_valid == False%}
        {% if form.meta_keywords.errors %}
        <span class="helper-text">{{ form.meta_keywords.errors }}</span>
        {% endif %}
        {% endif %}
    </div>
    <div class="col-auto my-1 form-group">
      {% if course.mark_popular == 1 %}
      <div class="custom-control custom-checkbox mr-sm-2"></div>
      <input class="custom-control-input" type="checkbox" class="form-control" placeholder="mark_popular" checked name="mark_popular" id="mark_popular"></input>
      {% else %}
      <div class="custom-control custom-checkbox mr-sm-2"></div>
      <input class="custom-control-input" type="checkbox" class="form-control" placeholder="mark_popular" name="mark_popular" id="mark_popular"></input>
      {% endif %}
      <label class="custom-control-label" for="mark_popular">Mark as popular</label>
    </div>
    <div class="form-group">
        <input type="hidden" name="course_id" class="hidden" value="{{course.id}}" />
        <button class="btn btn-dark mb-2" type="submit">Update</button>
    </div>
</form>
</div>

{% endblock %}

{% block script %}
<script type="text/javascript">
  $(document).ready(function() {
    $('.summernote').summernote();
  });
</script>
{% endblock %}
